# 生命周期
- render阶段(调和)  
React在调和阶段会深度遍历fiber树 目的是发现不同(diff)  
不同的地方就是需要更新的地方 对于变化的组件 就会执行render函数
- commit阶段  
在一次调和过程完毕之后 进入commit阶段 创建修改真实的DOM节点  

> react-reconciler/src/ReactFiberBeginWork.js
  
```javascript
/* workloop React 处理类组件的主要功能方法 */
function updateClassComponent(){
    let shouldUpdate
    const instance = workInProgress.stateNode // stateNode 是 fiber 指向 类组件实例的指针。
     if (instance === null) { // instance 为组件实例,如果组件实例不存在，证明该类组件没有被挂载过，那么会走初始化流程
        constructClassInstance(workInProgress, Component, nextProps); // 组件实例将在这个方法中被new。
        mountClassInstance(  workInProgress,Component, nextProps,renderExpirationTime ); //初始化挂载组件流程
        shouldUpdate = true; // shouldUpdate 标识用来证明 组件是否需要更新。
     }else{  
        shouldUpdate = updateClassInstance(current, workInProgress, Component, nextProps, renderExpirationTime) // 更新组件流程
     }
     if(shouldUpdate){
         nextChildren = instance.render(); /* 执行render函数 ，得到子节点 */
        reconcileChildren(current,workInProgress,nextChildren,renderExpirationTime) /* 继续调和子节点 */
     }
}
```
- 重要概念  
1. instance：类组件对应实例  
2. workInProgress树：


### 类组件的生命周期
- 组件初始化  

- 组件更新  

- 组件销毁  

